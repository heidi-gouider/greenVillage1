{% extends 'base.html.twig' %}

{% block title %}Green Village
{% endblock %}

{% block body %}

			<div class="row align-items-center bg-dark banniere mx-auto">
				{% for  categorie in categories %}
					{# afficher uniquement les categories parent #}
					{% if categorie.parentCategorie is null %}
						<div class="col">
							<a href="{{ path('app_sous_categorie', {'parent_categorie_id': categorie.id}) }}" class="text-white font-weight-bold">
								{{ categorie.libelleCategorie}}
							</a>
						</div>
					{% endif %}
				{% endfor %}
			</div>

	<div class="contenu">
		<h1 class="fst-italic">Notre catalogue</h1>
				{# <div class="container text-center"> #}

		<main class="container">
			<div class="row">
				<div class="d-flex flex-wrap justify-content-around">
					{% for  categorie in categories %}
						{# ici je vais mettre une condition pour afficher uniquement les categories parent #}
						{% if categorie.parentCategorie is null %}
							<div class="col-md-4 mb-5">
								<div class="card w-50" id="images">
									{# Lien vers les sous-catégories  nom de la route,
																je passe l'id de la categorie parent à la route #}
									<a href="{{ path('app_sous_categorie', {'parent_categorie_id': categorie.id}) }}">
										{# href="{{ path('app_sous_categorie', {'parent_categorie_id': categorie.parentCategorie.id}) }}"> #}
										{# {{ categorie.libelleCategorie}} #}
										<img class="card-img-top mx-auto" src="{{ asset(categorie.imageCategorie) }}" alt="{{ categorie.imageCategorie }}"> <div class="card-body">
											<h5 class="card-title mt-5">{{ categorie.libelleCategorie }}</h5>
										</a>
										<p class="card-text">
											{{ categorie.descriptionCategorie}}</p>
									</div>
								</div>
							</div>
							{# {% if loop.index is even %}
							</div>
							<div class="row">
							{% endif %} #}
						{% endif %}
					{% endfor %}
				</div>
			</div>
		</main>
		<div class="nav-item">
			<a class="nav-link text-center text-orange" href="{{ path('app_accueil') }}">Retour à l'accueil</a>
		</div>

	</div>

	{# {% include "partials/footer.php" %} #}

{% endblock %}
